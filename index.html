<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameStore - ดาวน์โหลดเกมฟรี</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Prompt', sans-serif;
            background-color: #f5f5f7;
        }
        
        .game-card {
            transition: all 0.3s ease;
        }
        
        .game-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .download-btn {
            transition: all 0.2s ease;
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
        }
        
        .search-results {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .search-container {
            transition: all 0.3s ease;
        }
        
        .search-expanded {
            width: 100%;
        }
        
        .search-collapsed {
            width: auto;
        }
        
        .side-menu {
            position: fixed;
            top: 0;
            right: -320px;
            width: 320px;
            height: 100vh;
            background-color: #ffffff;
            z-index: 100;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }
        
        .side-menu.open {
            right: 0;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(2px);
        }
        
        .overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .menu-item {
            transition: all 0.2s ease;
        }
        
        .menu-item:hover {
            background-color: #f3f4f6;
        }
        
        .social-icon {
            transition: all 0.2s ease;
        }
        
        .social-icon:hover {
            transform: translateY(-3px);
        }
        
        .footer-link {
            transition: all 0.2s ease;
        }
        
        .footer-link:hover {
            color: #ffffff;
        }
        
        /* Enhanced Mobile Responsiveness */
        @media (max-width: 640px) {
            .game-card-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .event-card-container {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .game-card .game-title {
                font-size: 0.875rem;
            }
        }
        
        /* Ensure touch-friendly targets on mobile */
        @media (max-width: 768px) {
            .download-btn, .menu-item, .social-icon {
                min-height: 44px; /* Apple's recommended minimum touch target size */
            }
            
            .search-input {
                font-size: 16px; /* Prevents iOS zoom on input focus */
            }
        }
        
        /* Print styles for better printing */
        @media print {
            .side-menu, .overlay, .download-btn, .search-container {
                display: none !important;
            }
            
            body {
                background-color: white;
                color: black;
            }
            
            .container {
                width: 100%;
                max-width: 100%;
            }
        }
        
        /* Content Management Helpers */
        .content-section {
            display: block; /* Can be toggled to 'none' via JS */
        }
        
        /* Fix for iOS input styling */
        input, button {
            -webkit-appearance: none;
            appearance: none;
            border-radius: 0;
        }
        
        /* Fix for iOS momentum scrolling */
        .scrollable-area {
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>
<body>
    <!-- Side Menu -->
    <div id="side-menu" class="side-menu">
        <div class="p-5 border-b border-gray-100">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-600" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13.92 3.845a19.361 19.361 0 01-6.3 1.98C6.765 5.942 5.89 6 5 6a4 4 0 00-.504 7.969 15.974 15.974 0 001.271 3.341c.397.77 1.342 1.27 2.233 1.69.26.122.52.236.78.344a4 4 0 105.832-5.708 15.973 15.973 0 00.979-2.989 4 4 0 00-1.671-6.802z" />
                    </svg>
                    <h1 class="text-2xl font-bold text-gray-800">GameStore</h1>
                </div>
                <button id="close-menu" class="text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="p-5">
            <div class="mb-6">
                <h3 class="text-xs uppercase text-gray-500 font-semibold tracking-wider mb-3">เมนูหลัก</h3>
                <ul class="space-y-1">
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-home w-5 text-center text-indigo-600"></i>
                            <span>หน้าแรก</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="mb-6">
                <h3 class="text-xs uppercase text-gray-500 font-semibold tracking-wider mb-3">หมวดหมู่</h3>
                <ul class="space-y-1">
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-gamepad w-5 text-center text-indigo-600"></i>
                            <span>เกมแอคชั่น</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-mountain w-5 text-center text-indigo-600"></i>
                            <span>เกมผจญภัย</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-puzzle-piece w-5 text-center text-indigo-600"></i>
                            <span>เกมปริศนา</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-futbol w-5 text-center text-indigo-600"></i>
                            <span>เกมกีฬา</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="mb-6">
                <h3 class="text-xs uppercase text-gray-500 font-semibold tracking-wider mb-3">บริการ</h3>
                <ul class="space-y-1">
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-download w-5 text-center text-indigo-600"></i>
                            <span>ติดตั้งแอป</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-headset w-5 text-center text-indigo-600"></i>
                            <span>ช่วยเหลือ</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-comment w-5 text-center text-indigo-600"></i>
                            <span>ข้อเสนอแนะ</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-item flex items-center space-x-3 p-3 rounded-lg text-gray-700">
                            <i class="fas fa-briefcase w-5 text-center text-indigo-600"></i>
                            <span>ธุรกิจ</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>
    
    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div id="logo-container" class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-600" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13.92 3.845a19.361 19.361 0 01-6.3 1.98C6.765 5.942 5.89 6 5 6a4 4 0 00-.504 7.969 15.974 15.974 0 001.271 3.341c.397.77 1.342 1.27 2.233 1.69.26.122.52.236.78.344a4 4 0 105.832-5.708 15.973 15.973 0 00.979-2.989 4 4 0 00-1.671-6.802z" />
                    </svg>
                    <h1 class="text-2xl font-bold text-gray-800">GameStore</h1>
                </div>
                
                <div id="search-container" class="search-container search-collapsed flex items-center ml-auto mr-4">
                    <button id="search-icon" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                    <div id="search-input-container" class="hidden w-full ml-2 relative">
                        <input type="text" id="search-input" class="search-input w-full px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="ค้นหาเกม...">
                        <button id="close-search" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                    <div id="search-results" class="absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg z-50 search-results scrollable-area hidden mx-4">
                        <!-- Search results will be populated here -->
                    </div>
                </div>
                
                <div id="menu-button" class="text-gray-600 hover:text-gray-900 cursor-pointer p-2 rounded-full hover:bg-gray-100">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
                    </svg>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Content Management Controls (Admin Only - Can be hidden in production) -->
    <div id="admin-controls" class="container mx-auto px-4 py-3 bg-gray-100 border-b border-gray-200 hidden">
        <div class="flex flex-wrap items-center gap-3">
            <h3 class="text-sm font-semibold text-gray-700">จัดการเนื้อหา:</h3>
            <button class="section-toggle px-3 py-1 bg-indigo-600 text-white text-sm rounded" data-section="events-section">กิจกรรมแตกรางวัล</button>
            <button class="section-toggle px-3 py-1 bg-indigo-600 text-white text-sm rounded" data-section="popular-section">เกมยอดนิยม</button>
            <button class="section-toggle px-3 py-1 bg-indigo-600 text-white text-sm rounded" data-section="new-section">เกมใหม่ล่าสุด</button>
            <button id="add-section-btn" class="px-3 py-1 bg-green-600 text-white text-sm rounded">+ เพิ่มหมวดหมู่</button>
        </div>
    </div>
    
    <!-- Featured Games / กิจกรรมแตกรางวัล -->
    <div id="events-section" class="content-section container mx-auto px-4 py-6">
        <div class="flex justify-between items-center mb-6">
            <h2 class="section-title text-2xl font-bold text-gray-800">กิจกรรมแตกรางวัล</h2>
            <div class="flex items-center">
                <button class="section-edit-btn hidden text-gray-500 hover:text-indigo-600 mr-2">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="section-visibility-btn hidden text-gray-500 hover:text-indigo-600">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
        </div>
        
        <div class="event-card-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Event 1 -->
            <div class="game-card bg-white rounded-xl overflow-hidden shadow-md">
                <div class="relative">
                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 h-40 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 110 4h-5V9a1 1 0 10-2 0v1H4a2 2 0 110-4h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-1 1h1zm3 0a1 1 0 10-1-1v1h1z" clip-rule="evenodd" />
                            <path d="M9 11H3v5a2 2 0 002 2h4v-7zM11 18h4a2 2 0 002-2v-5h-6v7z" />
                        </svg>
                    </div>
                    <div class="absolute top-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded-full">
                        กิจกรรมพิเศษ
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">ลุ้นรับไอเทมพิเศษ</h3>
                            <p class="text-gray-500 text-sm">สำหรับเกม Battle Royale Masters</p>
                        </div>
                        <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-md font-medium">ถึง 30 มิ.ย.</span>
                    </div>
                    <div class="mt-4">
                        <button class="download-btn w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium flex items-center justify-center" data-game="battle-royale-masters">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                            เข้าร่วมกิจกรรม
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Event 2 -->
            <div class="game-card bg-white rounded-xl overflow-hidden shadow-md">
                <div class="relative">
                    <div class="bg-gradient-to-r from-red-500 to-orange-500 h-40 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z" />
                        </svg>
                    </div>
                    <div class="absolute top-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded-full">
                        โปรโมชั่น
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">แจกเครดิตฟรี 100 บาท</h3>
                            <p class="text-gray-500 text-sm">สำหรับเกม Racing Legends</p>
                        </div>
                        <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-md font-medium">ถึง 15 มิ.ย.</span>
                    </div>
                    <div class="mt-4">
                        <button class="download-btn w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium flex items-center justify-center" data-game="racing-legends">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                            รับเครดิตฟรี
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Event 3 -->
            <div class="game-card bg-white rounded-xl overflow-hidden shadow-md">
                <div class="relative">
                    <div class="bg-gradient-to-r from-green-500 to-teal-500 h-40 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="absolute top-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded-full">
                        ทัวร์นาเมนต์
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">แข่งขันชิงเงินรางวัล</h3>
                            <p class="text-gray-500 text-sm">สำหรับเกม Puzzle Quest</p>
                        </div>
                        <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-md font-medium">20-25 มิ.ย.</span>
                    </div>
                    <div class="mt-4">
                        <button class="download-btn w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium flex items-center justify-center" data-game="puzzle-quest">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                            สมัครแข่งขัน
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Popular Games -->
    <div id="popular-section" class="content-section container mx-auto px-4 py-6">
        <div class="flex justify-between items-center mb-6">
            <h2 class="section-title text-2xl font-bold text-gray-800">เกมยอดนิยม</h2>
            <div class="flex items-center">
                <button class="section-edit-btn hidden text-gray-500 hover:text-indigo-600 mr-2">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="section-visibility-btn hidden text-gray-500 hover:text-indigo-600">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
        </div>
        
        <div class="game-card-container grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
            <!-- Game 1 -->
            <div class="game-card bg-white rounded-lg overflow-hidden shadow-sm" data-game-id="candy-match" data-category="puzzle">
                <div class="bg-gradient-to-br from-pink-400 to-red-500 h-32 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z" />
                    </svg>
                </div>
                <div class="p-3">
                    <h3 class="game-title text-sm font-medium text-gray-800">Candy Match</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-xs">★★★★☆</div>
                        <span class="text-xs text-gray-500 ml-1">4.2</span>
                    </div>
                    <button class="download-btn mt-2 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg text-sm font-medium" data-game="candy-match">ดาวน์โหลด</button>
                </div>
            </div>
            
            <!-- Game 2 -->
            <div class="game-card bg-white rounded-lg overflow-hidden shadow-sm" data-game-id="speed-runner" data-category="action">
                <div class="bg-gradient-to-br from-blue-400 to-indigo-600 h-32 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="p-3">
                    <h3 class="game-title text-sm font-medium text-gray-800">Speed Runner</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-xs">★★★★★</div>
                        <span class="text-xs text-gray-500 ml-1">4.9</span>
                    </div>
                    <button class="download-btn mt-2 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg text-sm font-medium" data-game="speed-runner">ดาวน์โหลด</button>
                </div>
            </div>
            
            <!-- Game 3 -->
            <div class="game-card bg-white rounded-lg overflow-hidden shadow-sm" data-game-id="word-master" data-category="puzzle">
                <div class="bg-gradient-to-br from-yellow-400 to-orange-500 h-32 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" />
                    </svg>
                </div>
                <div class="p-3">
                    <h3 class="game-title text-sm font-medium text-gray-800">Word Master</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-xs">★★★★☆</div>
                        <span class="text-xs text-gray-500 ml-1">4.3</span>
                    </div>
                    <button class="download-btn mt-2 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg text-sm font-medium" data-game="word-master">ดาวน์โหลด</button>
                </div>
            </div>
            
            <!-- Game 4 -->
            <div class="game-card bg-white rounded-lg overflow-hidden shadow-sm" data-game-id="pixel-craft" data-category="adventure">
                <div class="bg-gradient-to-br from-green-400 to-emerald-500 h-32 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13 7H7v6h6V7z" />
                        <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="p-3">
                    <h3 class="game-title text-sm font-medium text-gray-800">Pixel Craft</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-xs">★★★★☆</div>
                        <span class="text-xs text-gray-500 ml-1">4.4</span>
                    </div>
                    <button class="download-btn mt-2 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg text-sm font-medium" data-game="pixel-craft">ดาวน์โหลด</button>
                </div>
            </div>
            
            <!-- Game 5 -->
            <div class="game-card bg-white rounded-lg overflow-hidden shadow-sm" data-game-id="farm-village" data-category="strategy">
                <div class="bg-gradient-to-br from-purple-400 to-indigo-500 h-32 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="p-3">
                    <h3 class="game-title text-sm font-medium text-gray-800">Farm Village</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-xs">★★★★☆</div>
                        <span class="text-xs text-gray-500 ml-1">4.1</span>
                    </div>
                    <button class="download-btn mt-2 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg text-sm font-medium" data-game="farm-village">ดาวน์โหลด</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- New Games -->
    <div id="new-section" class="content-section container mx-auto px-4 py-6">
        <div class="flex justify-between items-center mb-6">
            <h2 class="section-title text-2xl font-bold text-gray-800">เกมใหม่ล่าสุด</h2>
            <div class="flex items-center">
                <button class="section-edit-btn hidden text-gray-500 hover:text-indigo-600 mr-2">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="section-visibility-btn hidden text-gray-500 hover:text-indigo-600">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
        </div>
        
        <div class="game-card-container grid grid-cols-2 md:grid-cols-4 gap-4">
            <!-- Game 1 -->
            <div class="game-card bg-white rounded-xl overflow-hidden shadow-md" data-game-id="space-explorer" data-category="adventure">
                <div class="relative">
                    <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-40 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M5.5 16a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 16h-8z" />
                        </svg>
                    </div>
                    <div class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full">
                        ใหม่
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="game-title text-lg font-semibold text-gray-800">Space Explorer</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-sm">★★★★★</div>
                        <span class="text-xs text-gray-500 ml-1">5.0</span>
                    </div>
                    <button class="download-btn mt-3 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium" data-game="space-explorer">ดาวน์โหลด</button>
                </div>
            </div>
            
            <!-- Game 2 -->
            <div class="game-card bg-white rounded-xl overflow-hidden shadow-md" data-game-id="ninja-warrior" data-category="action">
                <div class="relative">
                    <div class="bg-gradient-to-r from-blue-500 to-cyan-500 h-40 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full">
                        ใหม่
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="game-title text-lg font-semibold text-gray-800">Ninja Warrior</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-sm">★★★★☆</div>
                        <span class="text-xs text-gray-500 ml-1">4.8</span>
                    </div>
                    <button class="download-btn mt-3 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium" data-game="ninja-warrior">ดาวน์โหลด</button>
                </div>
            </div>
            
            <!-- Game 3 -->
            <div class="game-card bg-white rounded-xl overflow-hidden shadow-md" data-game-id="magic-quest" data-category="adventure">
                <div class="relative">
                    <div class="bg-gradient-to-r from-amber-500 to-yellow-500 h-40 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full">
                        ใหม่
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="game-title text-lg font-semibold text-gray-800">Magic Quest</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-sm">★★★★☆</div>
                        <span class="text-xs text-gray-500 ml-1">4.7</span>
                    </div>
                    <button class="download-btn mt-3 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium" data-game="magic-quest">ดาวน์โหลด</button>
                </div>
            </div>
            
            <!-- Game 4 -->
            <div class="game-card bg-white rounded-xl overflow-hidden shadow-md" data-game-id="car-simulator" data-category="sports">
                <div class="relative">
                    <div class="bg-gradient-to-r from-green-500 to-emerald-600 h-40 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
                            <path d="M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z" />
                        </svg>
                    </div>
                    <div class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full">
                        ใหม่
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="game-title text-lg font-semibold text-gray-800">Car Simulator</h3>
                    <div class="flex items-center mt-1">
                        <div class="text-yellow-500 text-sm">★★★★☆</div>
                        <span class="text-xs text-gray-500 ml-1">4.5</span>
                    </div>
                    <button class="download-btn mt-3 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium" data-game="car-simulator">ดาวน์โหลด</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Template for new sections (hidden) -->
    <template id="section-template">
        <div class="content-section container mx-auto px-4 py-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="section-title text-2xl font-bold text-gray-800">หมวดหมู่ใหม่</h2>
                <div class="flex items-center">
                    <button class="section-edit-btn text-gray-500 hover:text-indigo-600 mr-2">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="section-visibility-btn text-gray-500 hover:text-indigo-600 mr-2">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button class="section-delete-btn text-gray-500 hover:text-red-600">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            
            <div class="game-card-container grid grid-cols-2 md:grid-cols-4 gap-4">
                <!-- Empty section - will be populated with games -->
                <div class="flex items-center justify-center p-8 bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg text-gray-400">
                    <div class="text-center">
                        <i class="fas fa-plus-circle text-3xl mb-2"></i>
                        <p>เพิ่มเกม</p>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <!-- Footer -->
    <footer class="bg-indigo-600 text-white mt-10">
        <div class="container mx-auto px-6 py-10">
            <!-- Top Footer Section -->
            <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                <div class="flex items-center space-x-3 mb-6 md:mb-0">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13.92 3.845a19.361 19.361 0 01-6.3 1.98C6.765 5.942 5.89 6 5 6a4 4 0 00-.504 7.969 15.974 15.974 0 001.271 3.341c.397.77 1.342 1.27 2.233 1.69.26.122.52.236.78.344a4 4 0 105.832-5.708 15.973 15.973 0 00.979-2.989 4 4 0 00-1.671-6.802z" />
                    </svg>
                    <h3 class="text-2xl font-bold">GameStore</h3>
                </div>
                
                <div class="flex space-x-4">
                    <a href="#" class="social-icon bg-indigo-500 hover:bg-indigo-400 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="#" class="social-icon bg-indigo-500 hover:bg-indigo-400 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="social-icon bg-indigo-500 hover:bg-indigo-400 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200">
                        <i class="fab fa-discord"></i>
                    </a>
                    <a href="#" class="social-icon bg-indigo-500 hover:bg-indigo-400 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="social-icon bg-indigo-500 hover:bg-indigo-400 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>
            
            <!-- Links -->
            <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-8">
                <a href="#" class="text-indigo-200 hover:text-white transition-colors duration-200">นโยบายความเป็นส่วนตัว</a>
                <a href="#" class="text-indigo-200 hover:text-white transition-colors duration-200">เงื่อนไขการใช้งาน</a>
                <a href="#" class="text-indigo-200 hover:text-white transition-colors duration-200">คุกกี้</a>
            </div>
        </div>
    </footer>
    
    <!-- Add Section Modal (hidden by default) -->
    <div id="add-section-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <h3 class="text-lg font-semibold mb-4">เพิ่มหมวดหมู่ใหม่</h3>
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1">ชื่อหมวดหมู่</label>
                <input type="text" id="new-section-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="เช่น เกมแนะนำ, เกมฮิตประจำสัปดาห์">
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1">รูปแบบการแสดงผล</label>
                <select id="new-section-layout" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    <option value="grid-2-md-4">แบบการ์ดขนาดใหญ่ (2 คอลัมน์บนมือถือ, 4 บนเดสก์ท็อป)</option>
                    <option value="grid-2-md-3-lg-5">แบบการ์ดขนาดเล็ก (2-3-5 คอลัมน์)</option>
                    <option value="grid-1-md-2-lg-3">แบบการ์ดขนาดใหญ่พิเศษ (1-2-3 คอลัมน์)</option>
                </select>
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancel-add-section" class="px-4 py-2 text-gray-600 hover:text-gray-800">ยกเลิก</button>
                <button id="confirm-add-section" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">เพิ่มหมวดหมู่</button>
            </div>
        </div>
    </div>
    
    <script>
        // Game data
        const games = [
            { id: "battle-royale-masters", name: "Battle Royale Masters", category: "action", rating: 4.8 },
            { id: "racing-legends", name: "Racing Legends", category: "sports", rating: 4.5 },
            { id: "puzzle-quest", name: "Puzzle Quest", category: "puzzle", rating: 4.7 },
            { id: "candy-match", name: "Candy Match", category: "puzzle", rating: 4.2 },
            { id: "speed-runner", name: "Speed Runner", category: "action", rating: 4.9 },
            { id: "word-master", name: "Word Master", category: "puzzle", rating: 4.3 },
            { id: "pixel-craft", name: "Pixel Craft", category: "adventure", rating: 4.4 },
            { id: "farm-village", name: "Farm Village", category: "strategy", rating: 4.1 },
            { id: "space-explorer", name: "Space Explorer", category: "adventure", rating: 5.0 },
            { id: "ninja-warrior", name: "Ninja Warrior", category: "action", rating: 4.8 },
            { id: "magic-quest", name: "Magic Quest", category: "adventure", rating: 4.7 },
            { id: "car-simulator", name: "Car Simulator", category: "sports", rating: 4.5 }
        ];
        
        // Download functionality
        document.querySelectorAll('.download-btn').forEach(button => {
            button.addEventListener('click', function() {
                const gameId = this.getAttribute('data-game');
                const game = games.find(g => g.id === gameId) || { name: gameId };
                
                // Save to localStorage
                saveDownloadHistory(gameId);
                
                alert(`เริ่มดาวน์โหลดเกม ${game.name} แล้ว`);
            });
        });
        
        // Search functionality
        const searchIcon = document.getElementById('search-icon');
        const searchContainer = document.getElementById('search-container');
        const searchInputContainer = document.getElementById('search-input-container');
        const searchInput = document.getElementById('search-input');
        const closeSearch = document.getElementById('close-search');
        const searchResults = document.getElementById('search-results');
        const logoContainer = document.getElementById('logo-container');
        const menuButton = document.getElementById('menu-button');
        
        function toggleSearch() {
            const isExpanded = searchContainer.classList.contains('search-expanded');
            
            if (isExpanded) {
                // Collapse search
                searchContainer.classList.remove('search-expanded');
                searchContainer.classList.add('search-collapsed');
                searchInputContainer.classList.add('hidden');
                logoContainer.classList.remove('hidden');
                menuButton.classList.remove('hidden');
                searchResults.classList.add('hidden');
            } else {
                // Expand search
                searchContainer.classList.remove('search-collapsed');
                searchContainer.classList.add('search-expanded');
                searchInputContainer.classList.remove('hidden');
                logoContainer.classList.add('hidden');
                menuButton.classList.add('hidden');
                searchInput.focus();
            }
        }
        
        function performSearch() {
            const query = searchInput.value.toLowerCase().trim();
            
            if (query.length < 2) {
                searchResults.classList.add('hidden');
                return;
            }
            
            const results = games.filter(game => 
                game.name.toLowerCase().includes(query) || 
                game.category.toLowerCase().includes(query)
            );
            
            displaySearchResults(results);
        }
        
        function displaySearchResults(results) {
            searchResults.innerHTML = '';
            
            if (results.length === 0) {
                searchResults.innerHTML = '<div class="p-4 text-gray-500">ไม่พบเกมที่ค้นหา</div>';
                searchResults.classList.remove('hidden');
                return;
            }
            
            results.forEach(game => {
                const resultItem = document.createElement('div');
                resultItem.className = 'p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer';
                resultItem.innerHTML = `<div class="font-medium">${game.name}</div>`;
                
                resultItem.addEventListener('click', () => {
                    alert(`เริ่มดาวน์โหลดเกม ${game.name} แล้ว`);
                    saveDownloadHistory(game.id);
                    searchResults.classList.add('hidden');
                    searchInput.value = '';
                    toggleSearch(); // Close search after selection
                });
                
                searchResults.appendChild(resultItem);
            });
            
            searchResults.classList.remove('hidden');
        }
        
        searchIcon.addEventListener('click', toggleSearch);
        closeSearch.addEventListener('click', toggleSearch);
        searchInput.addEventListener('input', performSearch);
        
        // Hide search results when clicking outside
        document.addEventListener('click', function(event) {
            if (!searchContainer.contains(event.target) && 
                searchContainer.classList.contains('search-expanded')) {
                toggleSearch();
            }
        });
        
        // Side menu functionality
        const sideMenu = document.getElementById('side-menu');
        const overlay = document.getElementById('overlay');
        const menuButtonEl = document.getElementById('menu-button');
        const closeMenu = document.getElementById('close-menu');
        
        function toggleMenu() {
            sideMenu.classList.toggle('open');
            overlay.classList.toggle('active');
            document.body.classList.toggle('overflow-hidden');
        }
        
        menuButtonEl.addEventListener('click', toggleMenu);
        closeMenu.addEventListener('click', toggleMenu);
        overlay.addEventListener('click', toggleMenu);
        
        // localStorage functions
        function saveDownloadHistory(gameId) {
            let history = JSON.parse(localStorage.getItem('downloadHistory') || '[]');
            
            // Add to history if not already there
            if (!history.includes(gameId)) {
                history.push(gameId);
                localStorage.setItem('downloadHistory', JSON.stringify(history));
            }
            
            // Update download count
            let downloadCounts = JSON.parse(localStorage.getItem('downloadCounts') || '{}');
            downloadCounts[gameId] = (downloadCounts[gameId] || 0) + 1;
            localStorage.setItem('downloadCounts', JSON.stringify(downloadCounts));
        }
        
        // Content Management System (CMS) functionality
        // This would typically be connected to a backend, but we'll simulate it with localStorage
        
        // Toggle admin mode (for demonstration)
        function toggleAdminMode() {
            const adminControls = document.getElementById('admin-controls');
            const isAdmin = localStorage.getItem('adminMode') === 'true';
            
            if (isAdmin) {
                localStorage.setItem('adminMode', 'false');
                adminControls.classList.add('hidden');
                document.querySelectorAll('.section-edit-btn, .section-visibility-btn').forEach(btn => {
                    btn.classList.add('hidden');
                });
            } else {
                localStorage.setItem('adminMode', 'true');
                adminControls.classList.remove('hidden');
                document.querySelectorAll('.section-edit-btn, .section-visibility-btn').forEach(btn => {
                    btn.classList.remove('hidden');
                });
            }
        }
        
        // Press Ctrl+Shift+A to toggle admin mode (for demonstration)
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.shiftKey && event.key === 'A') {
                toggleAdminMode();
            }
        });
        
        // Section visibility toggle
        document.querySelectorAll('.section-visibility-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const section = this.closest('.content-section');
                const sectionId = section.id;
                const icon = this.querySelector('i');
                
                if (icon.classList.contains('fa-eye')) {
                    // Hide section
                    section.querySelector('.game-card-container').classList.add('hidden');
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                    localStorage.setItem(`section-${sectionId}-visible`, 'false');
                } else {
                    // Show section
                    section.querySelector('.game-card-container').classList.remove('hidden');
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                    localStorage.setItem(`section-${sectionId}-visible`, 'true');
                }
            });
        });
        
        // Add new section functionality
        const addSectionBtn = document.getElementById('add-section-btn');
        const addSectionModal = document.getElementById('add-section-modal');
        const cancelAddSection = document.getElementById('cancel-add-section');
        const confirmAddSection = document.getElementById('confirm-add-section');
        const newSectionName = document.getElementById('new-section-name');
        const newSectionLayout = document.getElementById('new-section-layout');
        
        addSectionBtn?.addEventListener('click', function() {
            addSectionModal.classList.remove('hidden');
        });
        
        cancelAddSection?.addEventListener('click', function() {
            addSectionModal.classList.add('hidden');
        });
        
        confirmAddSection?.addEventListener('click', function() {
            const sectionName = newSectionName.value.trim();
            if (!sectionName) {
                alert('กรุณาระบุชื่อหมวดหมู่');
                return;
            }
            
            // Create new section from template
            const template = document.getElementById('section-template');
            const newSection = template.content.cloneNode(true);
            
            // Set section title
            newSection.querySelector('.section-title').textContent = sectionName;
            
            // Set layout based on selection
            const layoutClass = newSectionLayout.value;
            const container = newSection.querySelector('.game-card-container');
            container.className = `game-card-container grid ${layoutClass === 'grid-2-md-4' ? 'grid-cols-2 md:grid-cols-4' : 
                                   layoutClass === 'grid-2-md-3-lg-5' ? 'grid-cols-2 md:grid-cols-3 lg:grid-cols-5' : 
                                   'grid-cols-1 md:grid-cols-2 lg:grid-cols-3'} gap-4`;
            
            // Generate unique ID for the section
            const sectionId = 'section-' + Date.now();
            newSection.querySelector('.content-section').id = sectionId;
            
            // Add event listeners to the new section's buttons
            const newSectionElement = newSection.querySelector('.content-section');
            
            // Add the new section before the footer
            document.querySelector('footer').insertAdjacentElement('beforebegin', newSectionElement);
            
            // Close modal
            addSectionModal.classList.add('hidden');
            newSectionName.value = '';
            
            // Save section to localStorage (in a real app, this would be saved to a database)
            const sections = JSON.parse(localStorage.getItem('customSections') || '[]');
            sections.push({
                id: sectionId,
                name: sectionName,
                layout: layoutClass,
                visible: true
            });
            localStorage.setItem('customSections', JSON.stringify(sections));
        });
        
        // Load custom sections from localStorage on page load
        function loadCustomSections() {
            const sections = JSON.parse(localStorage.getItem('customSections') || '[]');
            
            sections.forEach(section => {
                const template = document.getElementById('section-template');
                const newSection = template.content.cloneNode(true);
                
                newSection.querySelector('.section-title').textContent = section.name;
                newSection.querySelector('.content-section').id = section.id;
                
                const container = newSection.querySelector('.game-card-container');
                container.className = `game-card-container grid ${section.layout === 'grid-2-md-4' ? 'grid-cols-2 md:grid-cols-4' : 
                                      section.layout === 'grid-2-md-3-lg-5' ? 'grid-cols-2 md:grid-cols-3 lg:grid-cols-5' : 
                                      'grid-cols-1 md:grid-cols-2 lg:grid-cols-3'} gap-4`;
                
                if (!section.visible) {
                    container.classList.add('hidden');
                    const icon = newSection.querySelector('.section-visibility-btn i');
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                }
                
                document.querySelector('footer').insertAdjacentElement('beforebegin', newSection.querySelector('.content-section'));
            });
        }
        
        // Check if sections are visible based on localStorage
        function applySectionVisibility() {
            document.querySelectorAll('.content-section').forEach(section => {
                const sectionId = section.id;
                const isVisible = localStorage.getItem(`section-${sectionId}-visible`);
                
                if (isVisible === 'false') {
                    section.querySelector('.game-card-container').classList.add('hidden');
                    const icon = section.querySelector('.section-visibility-btn i');
                    if (icon) {
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    }
                }
            });
        }
        
        // Initialize admin mode if set
        if (localStorage.getItem('adminMode') === 'true') {
            const adminControls = document.getElementById('admin-controls');
            if (adminControls) {
                adminControls.classList.remove('hidden');
                document.querySelectorAll('.section-edit-btn, .section-visibility-btn').forEach(btn => {
                    btn.classList.remove('hidden');
                });
            }
        }
        
        // Load custom sections and apply visibility settings
        document.addEventListener('DOMContentLoaded', function() {
            loadCustomSections();
            applySectionVisibility();
            
            // Check for mobile devices and apply specific optimizations
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                document.body.classList.add('mobile-device');
                
                // Add iOS specific classes if needed
                if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    document.body.classList.add('ios-device');
                }
                
                // Add Android specific classes if needed
                if (/Android/i.test(navigator.userAgent)) {
                    document.body.classList.add('android-device');
                }
            }
        });
        
        // Handle section toggle from admin panel
        document.querySelectorAll('.section-toggle').forEach(btn => {
            btn.addEventListener('click', function() {
                const sectionId = this.getAttribute('data-section');
                const section = document.getElementById(sectionId);
                
                if (section) {
                    if (section.classList.contains('hidden')) {
                        section.classList.remove('hidden');
                        this.classList.remove('bg-gray-400');
                        this.classList.add('bg-indigo-600');
                    } else {
                        section.classList.add('hidden');
                        this.classList.remove('bg-indigo-600');
                        this.classList.add('bg-gray-400');
                    }
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'965d3b36344d10ca',t:'MTc1MzYzMDc4NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
